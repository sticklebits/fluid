<!DOCTYPE html>
<html>
<head>
    <title>Fluid</title>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"
            integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
    <script src="scripts/vendor/d3.min.js"></script>
    <script src="scripts/Fluid.js"></script>
    <script src="scripts/FluidEffect.js"></script>
    <script src="scripts/FluidElement.js"></script>
    <script src="scripts/FluidSection.js"></script>
    <link rel="stylesheet" href="assets/css/fluid.css">
    <link rel="stylesheet" href="assets/css/default.css">
    <script>
        $(function () {
            new Fluid()
                .addHelper('visible', function (target, context) {
                    context.effect.fade(target);
                })
                .addHelper('fix', function (target, context) {
                    context.effect.fix(target);
                })
                .addHelper('stretchScale', function (target, context) {
                    let scale = 100;
                    if (context.position < 0) {
                        scale = 100 + (Math.abs(context.position) * context.params[0]);
                        target.css('background-position', 'center center');
                    }
                    target.css('background-size', scale + '% ' + scale + '%');
                })
                .addHelper('parallax', function (target, context) {
                    let y = 0;
                    if (context.position > 0) {
                        y = ((100 - context.position) - 100) * context.params[0];
                        target.css('background-position', 'center ' + y + 'px');
                    }
                })
                .addHelper('stick', function (target, context) {
                    if (context.position > context.params[0]) {
                        target.css('top', (6 * context.params[0]) + 'px');
                    }
                })
                .start();
        });
    </script>
</head>
<body>
<div class="section first" data-fluid-effects="stretchScale(10) parallax(50)">
    <div class="centered-title">LIFE IN THE DESERT</div>
    <div class="title-menu" data-fluid-effects="visible(10,100,0,0)">Home | About | Contact</div>
</div>
<div class="section second" data-fluid-effects="fix(0,10) stick(9.4)">
</div>
<div class="section third" data-fluid-effects="visible(50,75) fix(0,50)">
</div>
<div class="section fourth" data-fluid-effects="fix(0,75) visible(75,100,0,-10)">
</div>
</body>
</html>